# Example environment configuration for PathFinder-Ship
# Copy this file to `.env` and fill in your own values.

# =====================================================================
# App & General
# =====================================================================
APP_NAME=PathFinder-Ship
DEFAULT_USER_NAME=Passenger
BOT_NAME=Passenger-Bot
DEBUG=false

# =====================================================================
# Camera
# =====================================================================
# (Harici kamera kullanıyorsan index'i değiştir.)
CAMERA_INDEX=0

# =====================================================================
# Classifier (MiniLM-L6, ONNX INT8)
# =====================================================================
CLS_ONNX=assets/models/nlu/intent-minilm-int8.onnx
CLS_TOKENIZER_DIR=assets/models/nlu/tokenizer
CLS_MAX_LEN=64
# NLU yönlendirme eşiği (komut / sohbet ayrımı)
CLS_ROUTE_THRESHOLD=0.50

# =====================================================================
# Storage (photo & detect ring buffer)
# =====================================================================
PHOTO_DIR=data/web_out/photo
DETECT_DIR=data/web_out/detect
MAX_FILES_PER_DIR=10

# =====================================================================
# Email (optional – istersen boş bırak)
# =====================================================================
EMAIL_SMTP_HOST=smtp.gmail.com
EMAIL_SMTP_PORT=587
EMAIL_USE_TLS=1

EMAIL_USER=your_email@example.com
EMAIL_PASSWORD=your_app_password_here
EMAIL_FROM=PathFinder-Ship <your_email@example.com>
EMAIL_TO_PHONE=destination_email@example.com

# =====================================================================
# API / CORS
# =====================================================================
API_HOST=0.0.0.0
API_PORT=8000
FRONTEND_ORIGIN=http://localhost:5173

# =====================================================================
# T5 (Flan-T5 Large, ONNX INT8)
# =====================================================================
T5_TOKENIZER_DIR=assets/models/t5/tokenizer
T5_ENCODER=assets/models/t5/encoder_model_int8.onnx
T5_DECODER=assets/models/t5/decoder_model_int8.onnx

T5_MAX_SRC_LEN=512
T5_MAX_NEW_TOKENS_CHAT=256
T5_MAX_NEW_TOKENS_RAG=64

# =====================================================================
# RAG core
# =====================================================================
# Router kuralın: rag_score >= 0.40 → context'li; altı → context'siz.
RAG_SCORE_THRESHOLD=0.40
RAG_TOP_K=4
RAG_MAX_CTX_TOKENS=512

# =====================================================================
# RAG backend (Chroma + BM25)
# =====================================================================
EMBED_MODEL=sentence-transformers/all-MiniLM-L6-v2
CHROMA_PATH=assets/rag/chroma_db
VECTOR_WEIGHT=0.75
BM25_WEIGHT=0.25

RAG_WEB_MIN_STRENGTH=0.75
WEB_CHUNK_SUPPORT_THRESHOLD=0.70

# =====================================================================
# YOLO-NAS (ONNX)
# =====================================================================
YOLO_ONNX=assets/models/yolo_nas/yolo_nas_s_coco.onnx
YOLO_LABELS=assets/models/yolo_nas/labels.txt
YOLO_SIZE=640
YOLO_CONF=0.50
YOLO_IOU=0.50
